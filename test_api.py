from src.serve.server import app


def test_index():
    request_body = {
    "date": [
        "2023-02-28 05:00:00",
        "2023-02-28 06:00:00",
        "2023-02-28 07:00:00",
        "2023-02-28 08:00:00",
        "2023-02-28 09:00:00",
        "2023-02-28 10:00:00",
        "2023-02-28 11:00:00",
        "2023-02-28 12:00:00",
        "2023-02-28 13:00:00",
        "2023-02-28 14:00:00",
        "2023-02-28 15:00:00",
        "2023-02-28 16:00:00",
        "2023-02-28 17:00:00",
        "2023-02-28 18:00:00",
        "2023-02-28 19:00:00",
        "2023-02-28 20:00:00",
        "2023-02-28 21:00:00",
        "2023-02-28 22:00:00",
        "2023-02-28 23:00:00",
        "2023-03-01 00:00:00",
        "2023-03-01 01:00:00",
        "2023-03-01 02:00:00",
        "2023-03-01 03:00:00",
        "2023-03-01 04:00:00",
        "2023-03-01 05:00:00",
        "2023-03-01 06:00:00",
        "2023-03-01 07:00:00",
        "2023-03-01 08:00:00",
        "2023-03-01 09:00:00",
        "2023-03-01 10:00:00",
        "2023-03-01 11:00:00",
        "2023-03-01 12:00:00",
        "2023-03-01 13:00:00",
        "2023-03-01 14:00:00",
        "2023-03-01 15:00:00",
        "2023-03-01 16:00:00",
        "2023-03-01 17:00:00",
        "2023-03-01 18:00:00",
        "2023-03-01 19:00:00",
        "2023-03-01 20:00:00",
        "2023-03-01 21:00:00",
        "2023-03-01 22:00:00",
        "2023-03-01 23:00:00",
        "2023-03-02 00:00:00",
        "2023-03-02 01:00:00",
        "2023-03-02 02:00:00",
        "2023-03-02 03:00:00",
        "2023-03-02 04:00:00",
        "2023-03-02 05:00:00",
        "2023-03-02 06:00:00",
        "2023-03-02 07:00:00",
        "2023-03-02 08:00:00",
        "2023-03-02 09:00:00",
        "2023-03-02 10:00:00",
        "2023-03-02 11:00:00",
        "2023-03-02 12:00:00",
        "2023-03-02 13:00:00",
        "2023-03-02 14:00:00",
        "2023-03-02 15:00:00",
        "2023-03-02 16:00:00",
        "2023-03-02 17:00:00",
        "2023-03-02 18:00:00",
        "2023-03-02 19:00:00",
        "2023-03-02 20:00:00",
        "2023-03-02 21:00:00",
        "2023-03-02 22:00:00",
        "2023-03-02 23:00:00",
        "2023-03-03 00:00:00",
        "2023-03-03 01:00:00",
        "2023-03-03 02:00:00",
        "2023-03-03 03:00:00",
        "2023-03-03 04:00:00"
    ],
    "temp": [
        -0.8,
        -1.1,
        -0.3,
        0.3,
        1.2,
        2,
        2.7,
        3.1,
        3.4,
        3.5,
        3.4,
        3.1,
        2.5,
        2.3,
        1.9,
        1.7,
        1.7,
        1.4,
        1.2,
        1,
        0.9,
        0.9,
        0.9,
        0.9,
        0.8,
        0.9,
        1.2,
        1.3,
        1.7,
        2.1,
        2.7,
        3.2,
        3.2,
        3.4,
        3.2,
        3.3,
        3.1,
        2.6,
        2.4,
        2.4,
        2.2,
        2.3,
        2.3,
        2.9,
        2.4,
        2.5,
        2.5,
        2.5,
        2.4,
        2.4,
        2.9,
        4.5,
        5.5,
        6.3,
        6.8,
        7.2,
        7.4,
        7.7,
        7.6,
        7,
        6.3,
        5.7,
        4.7,
        4.4,
        3.2,
        2.3,
        1,
        1.2,
        1,
        0.8,
        0.3,
        0.4
    ],
    "hum": [
        78,
        83,
        79,
        77,
        72,
        65,
        62,
        61,
        60,
        60,
        60,
        61,
        65,
        67,
        74,
        74,
        72,
        76,
        76,
        76,
        76,
        75,
        74,
        73,
        74,
        73,
        74,
        74,
        75,
        76,
        77,
        77,
        80,
        81,
        86,
        87,
        89,
        97,
        98,
        98,
        98,
        98,
        98,
        91,
        98,
        98,
        98,
        98,
        98,
        98,
        98,
        89,
        78,
        70,
        64,
        61,
        60,
        59,
        61,
        65,
        72,
        79,
        79,
        81,
        88,
        92,
        98,
        94,
        99,
        99,
        99,
        99
    ],
    "percp": [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0.1,
        0.2,
        0.2,
        0.2,
        0.1,
        0.1,
        0.1,
        0.1,
        0.1,
        0.1,
        0.1,
        0.1,
        0.1,
        0.1,
        0.2,
        0.3,
        0.3,
        0.3,
        0.3,
        0.3,
        0.3,
        0.3,
        0.3,
        0.3,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0.3,
        0.3,
        0.2,
        0.2,
        0.1,
        0.1,
        0.2,
        0.2,
        0.1,
        0.2
    ],
    "wspeed": [
        5.4,
        4.8,
        4.8,
        5.5,
        6.3,
        6.6,
        6.8,
        7,
        7.6,
        8,
        8.7,
        9,
        7.1,
        6.6,
        5.8,
        5.9,
        6.5,
        5.7,
        6.6,
        6.6,
        8,
        8.1,
        8.8,
        9.1,
        8.4,
        8.9,
        8.8,
        10.6,
        11.7,
        11.3,
        10.5,
        11.6,
        12,
        13.7,
        12.6,
        12.3,
        12.3,
        12,
        10.5,
        8.7,
        9,
        9.4,
        9.7,
        9.4,
        8.6,
        8.7,
        8.8,
        8.4,
        8,
        7.9,
        8.3,
        8.8,
        10.4,
        9.3,
        8.1,
        8.7,
        8.3,
        7.1,
        6.1,
        4.1,
        4.3,
        4.3,
        4.7,
        4,
        2.3,
        3.7,
        2.7,
        2.5,
        2.7,
        3.3,
        3.4,
        1.4
    ],
    "pm10": [
        15,
        17,
        17,
        19,
        21,
        22,
        27,
        24,
        24,
        26,
        24,
        26,
        27,
        31,
        36,
        34,
        31,
        27,
        25,
        26,
        22,
        22,
        21,
        17,
        19,
        23,
        23,
        26,
        24,
        32,
        36,
        31,
        28,
        26,
        28,
        27,
        27,
        27,
        26,
        23,
        21,
        20,
        21,
        11,
        8,
        8,
        7,
        9,
        8,
        10,
        9,
        11,
        13,
        28.335567257060795,
        17,
        24,
        27,
        28,
        30,
        30,
        29,
        26,
        30,
        26,
        22,
        21,
        21,
        23,
        19,
        22,
        17,
        16
    ]
}
    response = app.test_client().post('/air/predict/', json=request_body)
    assert response.status_code == 200

def test_get():
    response = app.test_client().get('/forecast')
    assert response.status_code == 200